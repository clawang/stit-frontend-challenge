(this["webpackJsonpstit-frontend-challenge"]=this["webpackJsonpstit-frontend-challenge"]||[]).push([[0],{31:function(e,a,t){e.exports=t.p+"static/media/star.967d62c7.svg"},32:function(e,a,t){e.exports=t.p+"static/media/unfilled.77ac57be.svg"},33:function(e,a,t){e.exports=t.p+"static/media/halfstar.74f8e421.svg"},34:function(e,a,t){e.exports=t.p+"static/media/marker.f00d58bd.png"},35:function(e,a,t){e.exports=t.p+"static/media/pin.a07280f4.png"},37:function(e,a,t){e.exports=t(80)},42:function(e,a,t){},43:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(12),i=t.n(r),s=(t(42),t(1)),c=t(2),o=(t(43),t(11)),u=function(e){return n.a.createElement("div",{className:"restaurant-card-wrapper"},n.a.createElement("div",{className:"restaurant-card"},n.a.createElement("div",{className:"restaurant-card-img"},n.a.createElement("img",{src:e.res.image_url,alt:e.res.name})),n.a.createElement("div",{className:"restaurant-card-text"},n.a.createElement("p",{className:"cuisine"},e.res.categories[0].title),n.a.createElement("h3",null,e.res.name),n.a.createElement("div",{className:"restaurant-details"},n.a.createElement("p",null,e.res.location.address1),n.a.createElement("p",null,e.res.price)))))},m=function(e){var a=e.restaurants;if(!a||0===a.length)return n.a.createElement("p",null,"No restaurants, sorry");var t={near:a[0].location.city,search:"Balthazar"};return n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:"list-head"},{near:"Restaurants in",search:"Search results for"}[e.type]," ",n.a.createElement("span",{className:"location"},t[e.type])),n.a.createElement("div",{className:"restaurant-wrapper"},a.map((function(e){return n.a.createElement(u,{res:e,key:e.id})}))))},d=t(36),p=t(29),E=t.n(p);var f=function(){return n.a.createElement("div",{className:"loading"},n.a.createElement("div",{className:"loading-symbol"}))};var y=function(e,a,t){return function(r){r.isLoading;var i=Object(d.a)(r,["isLoading"]),s=Object(l.useState)({loading:!0,data:null}),c=Object(o.a)(s,2),u=c[0],m=c[1];return Object(l.useEffect)((function(){m({loading:!0});var e=t?"https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/",t):"https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search");E.a.get(e,{headers:{Authorization:"Bearer ".concat("ADRBX-UxZiZKehLa6yxp4gpCLqr3O39muhcVRQQ8IKX-fJc0PixZNS6FIOIt6FD4CeMNhxbhyBiPppaxooa4qcScqm2CZrG-FB_eX2m1ikFQ8astC1fbhKdAmkk0X3Yx")},params:a}).then((function(e){var a=e.data.businesses||e.data;m({loading:!1,data:a})}))}),[m]),u.loading?n.a.createElement(f,null):n.a.createElement(e,Object.assign({},i,{data:u.data}))}};function h(e){return n.a.createElement("div",null,n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.b,{to:"/"},"Restaurants Near You")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/details"},"Restaurant Details")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/search"},"Search Restaurants")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/map"},"Map View")))),n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("div",{className:"header"}),n.a.createElement("div",{className:"header-content"},n.a.createElement("h1",null,"Find the Best Restaurants Near You"),n.a.createElement("input",{type:"text",placeholder:"Location"}))),n.a.createElement(m,{restaurants:e.data,type:"near"}))}var g=function(e){var a=Object(l.useState)({latitude:null,longitude:null,location:null,loading:!0}),t=Object(o.a)(a,2),r=t[0],i=t[1];if(Object(l.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1})}),(function(e){i({location:"new york",loading:!1})}))}),[i]),!r.loading){var s=y(h,{latitude:r.latitude,longitude:r.longitude,location:"new york",categories:"restaurants"});return n.a.createElement(s,null)}return n.a.createElement(f,null)},v=t(31),b=t.n(v),N=t(32),w=t.n(N),T=t(33),k=t.n(T);function R(e){for(var a=[],t=Math.floor(e.data.rating),l=0;l<t;l++)a.push("filled");var r=0;e.data.rating%1!==0&&(a.push("half"),r=1);for(var i=5-t-r,c=0;c<i;c++)a.push("unfilled");return n.a.createElement("div",{className:"restaurant-details"},n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.b,{to:"/"},"Restaurants Near You")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/details"},"Restaurant Details")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/search"},"Search Restaurants")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/map"},"Map View")))),n.a.createElement("div",{className:"header-wrapper",style:{backgroundImage:"url("+e.data.image_url+")"}}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"details-wrapper"},n.a.createElement("div",{className:"details-left"},n.a.createElement("h1",null,e.data.name),n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"star-container"},a.map((function(e){return n.a.createElement(S,{type:e})}))),n.a.createElement("p",null,e.data.review_count+" reviews"))),n.a.createElement("div",{className:"details-right"},n.a.createElement("div",{className:"address"},n.a.createElement("h3",null,"Address"),n.a.createElement("p",null,e.data.location.display_address[0]),n.a.createElement("p",null,e.data.location.display_address[1])),n.a.createElement("div",{className:"phone"},n.a.createElement("h3",null,"Phone"),n.a.createElement("p",null,e.data.display_phone))))))}function S(e){var a={filled:b.a,unfilled:w.a,half:k.a};return n.a.createElement("img",{src:a[e.type],alt:"restaurant"})}var x=function(e){var a=y(R,{},"KgpOYAG-r_eDsQXFXt0nnQ");return n.a.createElement(a,null)},O=t(13),j=t(34),M=t.n(j),z=t(35),B=t.n(z);var D=Object(O.GoogleApiWrapper)({apiKey:"".concat("AIzaSyD4F2j4ah1DlhTTAS1hMoarHsz9cuMt7E0")})((function(e){var a=e.points.map((function(e,a){return n.a.createElement(O.Marker,{key:a,id:a,position:{lat:e.coordinates.latitude,lng:e.coordinates.longitude},icon:{url:B.a,scaledSize:new google.maps.Size(24,33)}})})),t=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#efefef"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffbd83"},{saturation:"-16"},{lightness:"48"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"on"},{lightness:"31"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#8ad1c5"},{saturation:"-33"},{lightness:"55"}]}];return n.a.createElement(O.Map,{google:e.google,zoom:12,style:{width:"100%",height:"100%"},initialCenter:{lat:e.latitude,lng:e.longitude},onReady:function(e,a){return function(e,a){a.setOptions({styles:t})}(0,a)}},n.a.createElement(O.Marker,{key:1234,name:"Your location",position:{lat:e.latitude,lng:e.longitude},icon:{url:M.a,scaledSize:new google.maps.Size(24,24)}}),a)}));function Y(e){return n.a.createElement("div",{className:"restaurants-map"},n.a.createElement("nav",{className:"map-nav"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.b,{to:"/"},"Restaurants Near You")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/details"},"Restaurant Details")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/search"},"Search Restaurants")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/map"},"Map View")))),n.a.createElement("div",{className:"restaurants-map-wrapper"},n.a.createElement("div",{className:"list-wrapper"},n.a.createElement(m,{restaurants:e.data,type:"near"})),n.a.createElement("div",{className:"map-wrapper"},n.a.createElement(D,{latitude:e.latitude,longitude:e.longitude,points:e.data}))))}var A=function(e){var a=Object(l.useState)({latitude:null,longitude:null,location:null,loading:!0}),t=Object(o.a)(a,2),r=t[0],i=t[1];if(Object(l.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1})}),(function(e){i({location:"new york",loading:!1})}))}),[i]),!r.loading){var s=y(Y,{latitude:r.latitude,longitude:r.longitude,location:"new york",categories:"restaurants"});return n.a.createElement(s,{latitude:r.latitude,longitude:r.longitude})}return n.a.createElement(f,null)};function F(e){return n.a.createElement("div",null,n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.b,{to:"/"},"Restaurants Near You")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/details"},"Restaurant Details")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/search"},"Search Restaurants")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/map"},"Map View")))),n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("div",{className:"header"}),n.a.createElement("div",{className:"header-content"},n.a.createElement("h1",null,"Find the Best Restaurants Near You"),n.a.createElement("input",{type:"text",placeholder:"Search"}))),n.a.createElement(m,{restaurants:e.data,type:"search"}))}var _=function(e){var a=y(F,{location:"new york",term:"Balthazar"});return n.a.createElement(a,null)};var C=function(){return n.a.createElement(s.a,{basename:"/stit-frontend-challenge"},n.a.createElement("div",null,n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/details",component:x}),n.a.createElement(c.a,{path:"/map",component:A}),n.a.createElement(c.a,{path:"/search",component:_}),n.a.createElement(c.a,{path:"/",component:g,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.78997184.chunk.js.map