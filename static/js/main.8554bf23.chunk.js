(this["webpackJsonpstit-frontend-challenge"]=this["webpackJsonpstit-frontend-challenge"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/star.967d62c7.svg"},32:function(e,t,a){e.exports=a.p+"static/media/unfilled.77ac57be.svg"},33:function(e,t,a){e.exports=a.p+"static/media/halfstar.74f8e421.svg"},34:function(e,t,a){e.exports=a.p+"static/media/marker.f00d58bd.png"},35:function(e,t,a){e.exports=a.p+"static/media/pin.a07280f4.png"},37:function(e,t,a){e.exports=a(81)},42:function(e,t,a){},43:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/go.04611fef.svg"},81:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),o=(a(42),a(9)),c=a(1),s=(a(43),a(8)),u=function(e){var t={pathname:"/details",id:e.res.id};return l.a.createElement("div",{className:"restaurant-card-wrapper"},l.a.createElement(o.b,{to:t},l.a.createElement("div",{className:"restaurant-card"},l.a.createElement("div",{className:"restaurant-card-img"},l.a.createElement("img",{src:e.res.image_url,alt:e.res.name})),l.a.createElement("div",{className:"restaurant-card-text"},l.a.createElement("p",{className:"cuisine"},e.res.categories[0].title),l.a.createElement("h3",null,e.res.name),l.a.createElement("div",{className:"restaurant-details"},l.a.createElement("p",null,e.res.location.address1),l.a.createElement("p",null,e.res.price))))))},d=function(e){var t=e.restaurants;if(!t||0===t.length)return l.a.createElement("p",null,"No restaurants, sorry");var a={near:t[0].location.city,search:e.term};return l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"list-head"},{near:"Restaurants in",search:"Search results for"}[e.type]," ",l.a.createElement("span",{className:"location"},a[e.type])),l.a.createElement("div",{className:"restaurant-wrapper"},t.map((function(e){return l.a.createElement(u,{res:e,key:e.id})}))))},m=a(36),p=a(30),f=a.n(p);var g=function(e){return l.a.createElement("div",{className:"loading "+(e.fullscreen?"":"small")},l.a.createElement("div",{className:"loading-symbol"}))};var E=function(e,t,a,r){return function(i){i.isLoading;var o=Object(m.a)(i,["isLoading"]),c=Object(n.useState)({loading:!0,data:null}),u=Object(s.a)(c,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){p({loading:!0}),t.limit=18,console.log(t);var e=r?"https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/",r):"https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search");f.a.get(e,{headers:{Authorization:"Bearer ".concat("ADRBX-UxZiZKehLa6yxp4gpCLqr3O39muhcVRQQ8IKX-fJc0PixZNS6FIOIt6FD4CeMNhxbhyBiPppaxooa4qcScqm2CZrG-FB_eX2m1ikFQ8astC1fbhKdAmkk0X3Yx")},params:t}).then((function(e){var t=e.data.businesses||e.data;p({loading:!1,data:t})}))}),[p]),d.loading?l.a.createElement(g,{fullscreen:a}):l.a.createElement(e,Object.assign({},o,{data:d.data}))}};var y=function(e){return l.a.createElement("nav",{className:"white"===e.color?"map-nav":""},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/"},"Restaurants Near You")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/details"},"Restaurant Details")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/search"},"Search Restaurants")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/map"},"Map View"))))};function h(e){return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("div",{className:"header-wrapper"},l.a.createElement("div",{className:"header"}),l.a.createElement("div",{className:"header-content"},l.a.createElement("h1",null,"Find the Best Restaurants Near You"),l.a.createElement("input",{type:"text",placeholder:"Location"}))),l.a.createElement(d,{restaurants:e.data,type:"near"}))}var v=function(e){var t=Object(n.useState)({latitude:null,longitude:null,location:null,loading:!0}),a=Object(s.a)(t,2),r=a[0],i=a[1];if(Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1})}),(function(e){i({location:"new york",loading:!1})}))}),[i]),!r.loading){var o=E(h,{latitude:r.latitude,longitude:r.longitude,location:"new york",categories:"restaurants"},!0);return l.a.createElement(o,null)}return l.a.createElement(g,null)},b=a(31),N=a.n(b),w=a(32),T=a.n(w),O=a(33),k=a.n(O);function j(e){for(var t=[],a=Math.floor(e.data.rating),n=0;n<a;n++)t.push("filled");var r=0;e.data.rating%1!==0&&(t.push("half"),r=1);for(var i=5-a-r,o=0;o<i;o++)t.push("unfilled");return l.a.createElement("div",{className:"restaurant-details"},l.a.createElement(y,null),l.a.createElement("div",{className:"header-wrapper",style:{backgroundImage:"url("+e.data.image_url+")"}}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"details-wrapper"},l.a.createElement("div",{className:"details-left"},l.a.createElement("h1",null,e.data.name),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"star-container"},t.map((function(e,t){return l.a.createElement(S,{type:e,key:t})}))),l.a.createElement("p",null,e.data.review_count+" reviews")),e.lat?l.a.createElement("p",null,function(){var t=e.data.coordinates.latitude,a=e.data.coordinates.longitude,n=Math.abs(t-e.lat),l=Math.abs(a-e.long);return Math.round(6900*Math.sqrt(n*n+l*l))/100}()," mi away"):""),l.a.createElement("div",{className:"details-right"},l.a.createElement("div",{className:"address"},l.a.createElement("h3",null,"Address"),l.a.createElement("p",null,e.data.location.display_address[0]),l.a.createElement("p",null,e.data.location.display_address[1])),l.a.createElement("div",{className:"phone"},l.a.createElement("h3",null,"Phone"),l.a.createElement("p",null,e.data.display_phone))))))}function S(e){var t={filled:N.a,unfilled:T.a,half:k.a};return l.a.createElement("img",{src:t[e.type],alt:"restaurant"})}var x=function(e){var t=Object(n.useState)({latitude:null,longitude:null,loading:!0}),a=Object(s.a)(t,2),r=a[0],i=a[1],o=e.location.id||"KgpOYAG-r_eDsQXFXt0nnQ";if(Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1})}),(function(e){i({location:"new york",loading:!1})}))}),[i]),!r.loading){var c=E(j,{},!0,o);return l.a.createElement(c,{lat:r.latitude,long:r.longitude})}return l.a.createElement(g,{fullscreen:!0})},M=a(13),z=a(34),B=a.n(z),C=a(35),R=a.n(C);var A=Object(M.GoogleApiWrapper)({apiKey:"".concat("AIzaSyD4F2j4ah1DlhTTAS1hMoarHsz9cuMt7E0")})((function(e){var t={lat:e.latitude||40.729335,long:e.longitude||-73.997903},a=e.points.map((function(e,t){return l.a.createElement(M.Marker,{key:t,id:t,position:{lat:e.coordinates.latitude,lng:e.coordinates.longitude},icon:{url:R.a,scaledSize:new google.maps.Size(24,33)}})})),n=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#efefef"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffbd83"},{saturation:"-16"},{lightness:"48"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"on"},{lightness:"31"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#8ad1c5"},{saturation:"-33"},{lightness:"55"}]}];return l.a.createElement(M.Map,{google:e.google,zoom:12,style:{width:"100%",height:"100%"},initialCenter:{lat:t.lat,lng:t.long},onReady:function(e,t){return function(e,t){t.setOptions({styles:n})}(0,t)}},l.a.createElement(M.Marker,{key:1234,name:"Your location",position:{lat:t.lat,lng:t.long},icon:{url:B.a,scaledSize:new google.maps.Size(24,24)}}),a)}));function F(e){return l.a.createElement("div",{className:"restaurants-map"},l.a.createElement(y,{color:"white"}),l.a.createElement("div",{className:"restaurants-map-wrapper"},l.a.createElement("div",{className:"list-wrapper"},l.a.createElement(d,{restaurants:e.data,type:"near"})),l.a.createElement("div",{className:"map-wrapper"},l.a.createElement(A,{latitude:e.latitude,longitude:e.longitude,points:e.data}))))}var P=function(e){var t=Object(n.useState)({latitude:null,longitude:null,location:null,loading:!0}),a=Object(s.a)(t,2),r=a[0],i=a[1];if(Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1})}),(function(e){i({location:"new york",loading:!1})}))}),[i]),!r.loading){var o=E(F,{latitude:r.latitude,longitude:r.longitude,location:"new york",categories:"restaurants"},!0);return l.a.createElement(o,{latitude:r.latitude,longitude:r.longitude})}return l.a.createElement(g,{fullscreen:!0})};a(80);function _(e){return l.a.createElement(d,{restaurants:e.data,type:"search",term:e.term})}var D=function(e){var t=Object(n.useState)({loading:!0}),a=Object(s.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)({latitude:null,longitude:null,location:null,term:"balthazar"}),c=Object(s.a)(o,2),u=c[0],d=c[1];if(Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i({loading:!1}),d({latitude:e.coords.latitude,longitude:e.coords.longitude,term:u.term})}),(function(e){i({loading:!1}),d({location:"new york",term:u.term})}))}),[i]),!r.loading){var m=E(_,u,!1);return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("div",{className:"header-wrapper"},l.a.createElement("div",{className:"header"}),l.a.createElement("div",{className:"header-content"},l.a.createElement("h1",null,"Find the Best Restaurants Near You"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=document.getElementById("search-term").value;""!==t&&null!==t&&" "!==t?(d({term:t,location:u.location,latitude:u.latitude,longitude:u.longitude}),console.log("Submitting Term ".concat(u.term))):alert("Please enter text into the search field!")}},l.a.createElement("input",{type:"text",placeholder:"Search",id:"search-term"}),l.a.createElement("input",{type:"submit"})))),l.a.createElement(m,{term:u.term}))}return l.a.createElement(g,{fullscreen:!0})};var I=function(){return l.a.createElement(o.a,{basename:"/stit-frontend-challenge"},l.a.createElement("div",null,l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/details",component:x}),l.a.createElement(c.a,{path:"/map",component:P}),l.a.createElement(c.a,{path:"/search",component:D}),l.a.createElement(c.a,{path:"/",component:v,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8554bf23.chunk.js.map